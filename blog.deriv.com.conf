map_hash_bucket_size 1024;
map $uri $new_uri {
    /7-traits-of-successful-financial-traders-2/                              https://deriv.com/academy/blog/post/useful-tips-on-how-to-trade-online/;
    /non-traditional-banking-why-its-the-tesla-of-the-financial-industry/     https://deriv.com/academy/blog/post/non-traditional-banking-the-tesla-of-financial-industry/;
    /trading-with-crypto-top-3-myths/                                         https://deriv.com/academy/blog/post/trading-with-crypto-top-3-myths/;
    /regulatory/                                                              https://deriv.com/academy/;
    /besquare-by-deriv-the-graduate-programme-for-malaysians/                 https://deriv.com/academy/blog/post/besquare-by-deriv-the-it-graduate-programme-for-malaysians/;
    /get-in-on-the-cryptocurrency-action/                                     https://deriv.com/academy/blog/post/get-on-the-cryptocurrency-action-now/;
    /what-are-cryptocurrency-onramps/                                         https://deriv.com/academy/blog/post/an-easy-guide-on-how-to-buy-crypto-on-deriv/;
    /how-to-trade-forex/                                                      https://deriv.com/academy/;
    /the-complete-beginners-guide-to-cryptocurrency-trading/                  https://deriv.com/academy/blog/post/cryptocurrency-trading-for-beginners-on-deriv/;
    /multipliers-leverage-without-losing-your-shirt/                          https://deriv.com/academy/blog/post/risk-management-features-on-deriv-multipliers/;
    /3-top-stocks-to-trade-with-deriv/                                        https://deriv.com/academy/blog/post/what-are-stocks-how-and-where-to-trade-them/;
    /end-of-brexit-transition-looms-are-markets-preparing-for-a-no-deal-exit/ https://deriv.com/academy/;
    /what-is-forex-trading/                                                   https://deriv.com/academy/blog/post/what-is-forex-live-trading/;                           
    /what-you-need-to-know-about-auto-trading-bots/                           https://deriv.com/academy/automated-trading-what-you-need-to-know/;
    /which-stock-cfds-to-trade-during-the-holiday-season/                     https://deriv.com/academy/;
    /easier-automated-trading-with-dbot/                                      https://deriv.com/academy/;
    /why-the-trading-world-loves-metatrader-5/                                https://deriv.com/academy/blog/post/why-the-trading-world-loves-metatrader-5/;
    /multipliers-3-steps-to-x-up-your-trade/                                  https://deriv.com/academy/blog/post/how-to-trade-multipliers-on-dtrader/;
    /biggest-investing-lessons-from-2020-and-what-can-we-expect-in-2021/      https://deriv.com/academy/;
    /what-to-invest-in-as-the-world-emerges-from-the-pandemic-in-2021/        https://deriv.com/academy/;
    /multipliers-the-power-of-x/                                              https://deriv.com/academy/blog/post/deriv-multipliers-how-they-work/;
    /things-you-need-to-know-about-mt5/                                       https://deriv.com/academy/;
    /online-trading-demo-account-benefits/                                    https://deriv.com/academy/blog/post/online-trading-demo-account-for-beginners/;
    /how-to-be-a-smart-trader/                                                https://deriv.com/academy/blog/post/trading-for-beginners-tips-to-be-a-smart-trader/;
    /covid-19-is-fuelling-the-next-wave-of-innovation/                        https://deriv.com/academy/;
    /what-is-cfd-trading/                                                     https://deriv.com/academy/blog/post/what-is-cfd-trading/;
    /open-a-new-dmt5-real-synthetic-account/                                  https://deriv.com/academy/;
    /a-guide-on-avoiding-trading-scams/                                       https://deriv.com/academy/blog/post/how-to-avoid-trading-scams/;
    /5-golden-rules-to-follow-when-trading-stocks/                            https://deriv.com/academy/blog/post/top-3-advantages-of-cfd-trading/;
    /strategies-to-trade-synthetic-indices/                                   https://deriv.com/academy/blog/post/an-introduction-to-synthetic-indices-trading/;

    /weekly-market-report-050421/                                             https://deriv.com/academy/;
    /weekly-market-report-150321/                                             https://deriv.com/academy/;
    /weekly-market-report-290321/                                             https://deriv.com/academy/;
    /weekly-market-report-150221/                                             https://deriv.com/academy/;
    /weekly-market-report-250121/                                             https://deriv.com/academy/;
    /weekly-market-report-080221/                                             https://deriv.com/academy/;
    /weekly-market-report-220221/                                             https://deriv.com/academy/;
    /weekly-market-report-180121/                                             https://deriv.com/academy/;
    /weekly-market-report/                                                    https://deriv.com/academy/;
    /weekly-market-report-010321/                                             https://deriv.com/academy/;
    /the-weekly-market-report-07-06-21/                                       https://deriv.com/academy/;
    /weekly-market-report-220321/                                             https://deriv.com/academy/;
    /the-weekly-market-report/                                                https://deriv.com/academy/;
    /weekly-market-report-28-06-21/                                           https://deriv.com/academy/;
    /weekly-market-report-080321/                                             https://deriv.com/academy/;
    /weekly-market-report-10-may-2021/                                        https://deriv.com/academy/;
    /the-weekly-market-report-05-04-2021-12-04-2021/                          https://deriv.com/academy/;
    /weekly-market-report-211220/                                             https://deriv.com/academy/;
    /weekly-market-report-141220/                                             https://deriv.com/academy/;
    /weekly-market-report-231120/                                             https://deriv.com/academy/;
    /weekly-market-report-281220/                                             https://deriv.com/academy/;
    /weekly-market-report-071220/                                             https://deriv.com/academy/;
    /                                                                         https://deriv.com/academy/;
}

server {
    listen 80;
    server_name blog.deriv.com;

    if ($new_uri) {
        rewrite ^ $new_uri permanent;
    }

    root /var/www/html;

    location / {
        try_files $uri $uri/ =404;
    }
}